<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Loan Calculator</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/modern-normalize/1.1.0/modern-normalize.min.css" />
    <link rel="stylesheet" href="/static/style.css" />
</head>
<body>
    <div class="container">
        <h1>Loan Calculator</h1>
        {% if error %}
        <div class="error">{{ error }}</div>
        {% endif %}
        <form method="post" class="calc-form">
            <div class="form-row">
                <label for="principal">Principal</label>
                <input type="text" id="principal" name="principal" placeholder="e.g. 988000" required />
            </div>
            <div class="form-row">
                <label for="rate">Annual Rate (%)</label>
                <input type="number" step="0.01" id="rate" name="rate" placeholder="e.g. 6.19" required />
            </div>
            <div class="form-row">
                <label for="term">Term (months)</label>
                <input type="number" id="term" name="term" placeholder="e.g. 360" required />
            </div>
            <div class="form-row">
                <label for="loan_type">Installment Type</label>
                <select id="loan_type" name="loan_type">
                    <option value="annuity">Annuity</option>
                    <option value="decreasing">Decreasing</option>
                </select>
            </div>
            <div class="form-row">
                <label for="start_date">Start Date</label>
                <input type="month" id="start_date" name="start_date" required />
            </div>
            <div class="form-row">
                <label for="down_payment">Down Payment</label>
                <input type="text" id="down_payment" name="down_payment" placeholder="e.g. 150000" />
            </div>
            <div class="form-row">
                <label for="tranches">Tranches</label>
                <textarea id="tranches" name="tranches" placeholder="YYYY-MM:PERCENT, one per line or comma-separated"></textarea>
            </div>
            <div class="form-row">
                <label for="overpayments">Overpayments</label>
                <textarea id="overpayments" name="overpayments" placeholder="YYYY-MM:AMOUNT:TYPE, one per line or comma-separated"></textarea>
            </div>
            <div class="form-row">
                <label for="monthly_overpayment">Monthly Overpayment</label>
                <input type="text" id="monthly_overpayment" name="monthly_overpayment" placeholder="AMOUNT:TYPE (e.g. 500:term)" />
            </div>
            <div class="form-row">
                <label for="constant_payment">Constant Payment</label>
                <input type="text" id="constant_payment" name="constant_payment" placeholder="e.g. 7000" />
            </div>
            <div class="form-row">
                <label for="holidays">Holidays</label>
                <textarea id="holidays" name="holidays" placeholder="YYYY-MM, one per line or comma-separated"></textarea>
            </div>
            <div class="form-row">
                <button type="submit">Calculate</button>
            </div>
        </form>

        <!-- The results page is generated dynamically by the server. -->
    </div>
</body>
</html>